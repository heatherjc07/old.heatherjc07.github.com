
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="author" content="Heather Campbell" />
    <meta name="description" content="Defining behaviour at a global level in Play">

    <title>Global Settings in Scala</title>

    <link rel="stylesheet" href="/assets/themes/dinky/css/styles.css">
    <link rel="stylesheet" href="/assets/themes/dinky/css/pygment_trac.css">
    <script src="/assets/themes/dinky/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header"><a href="/">Technical Musings of a Mummy</a></h1>
        <ul>
          
          
          


  
    
      
      	
      	<li><a class="button" href="/archive.html" >Archive</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a class="button" href="/categories.html" >Categories</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a class="button" href="/pages/about/index.html" >Me</a></li>
      	
      
    
  
    
      
      	
      	<li><a class="button" href="/pages.html" >Pages</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a class="button" href="/tags.html" >Tags</a></li>
      	
      
    
  



        </ul>
        
        
        <div class="misc vcard">
          <h5 class="connect">Connect with Me</h5>
            

            <a href="mailto:heatherjcampbell@hotmail.co.uk"><img src="/assets/themes/dinky/images/email.png" alt="email"/></a>
            
            
            <a href="http://github.com/heatherjc07/" rel="me"><img src="/assets/themes/dinky/images/github.png" alt="github"/></a>
            
            
            <a href="http://twitter.com/HCampbell07/" rel="me"><img src="/assets/themes/dinky/images/twitter.png" alt="twitter"/></a>
            
            
            
            
            
        </div><!-- misc -->
        
      </header>

      <section>
      
<section>
  <h1>Global Settings in Scala</h1>

  <p>In a recent Scala Play! project I wanted to carry out certain things on starting up and shutting down my application. Typical things like starting up and cleaning up resources. This is how I came across the Global Object. This gives you a hook into certain events like starting and stopping, when the user requests an action which doesn&#8217;t exist and allows you to define code which is run when they occur.</p>

<p>You create the Global object in the default (empty) package.</p>

<pre><code>import play.api._

object Global extends GlobalSettings {
 //override methods and provide your logic
}</code></pre>

<p>In this example I&#8217;m starting and stopping a test email service on starting and stopping my application and I&#8217;m defining pages to be displayed when an error or missing handler exception occurs.</p>
<script src='https://gist.github.com/5853431.js?file=Global.scala'> </script><noscript>
  <pre class='gist-no-script'><code># Global.scala

object Global extends GlobalSettings{

 override def onStart(app: Application) {
  Logger.info(&quot;Application starting up...&quot;)
  startTestEmailServer(2526)
  if (Controls.count() == 0) {
    seedMongoDB
    Logger.info(&quot;Detected empty database...seeding data&quot;)
  }
 }

 override def onStop(app: Application) {
   stopTestEmailServer
   Logger.info(&quot;Application shutdown...&quot;)
 }

  override def onHandlerNotFound(request: RequestHeader) = {
    NotFound(
      views.html.error(Messages(&quot;application.title&quot;), Messages(&quot;error.notFound&quot;))
    )
  }

  override def onError(request: RequestHeader, ex: Throwable) = {
    InternalServerError(
      views.html.error(Messages(&quot;application.title&quot;), Messages(&quot;error.problem&quot;))
    )
  }
}</code></pre>
</noscript>
<p>For more info see <a href='http://www.playframework.com/documentation/2.0/ScalaGlobal'>Play!&#8217;s page on it</a></p>
  If you enjoyed this post, please
<a href="https://twitter.com/intent/tweet?url=http://heatherjcampbell.com/tutorial/2013/06/24/global-settings-in-scala&text=Global Settings in Scala &via=hcampbell07" 
   target="_blank">
  share it</a> 
or 
<a href="https://twitter.com/hcampbell07">
  follow me on Twitter</a>
<div id="page-navigation">
        <div class="clear">&nbsp;</div>
        <div class="left">
        
                <a href="/presentations/2013/05/24/mongodb-and-aws" title="Previous Post:
MongoDB and AWS">&laquo; MongoDB and AWS</a>
        
        </div>

        <div class="right">
        
                <a href="/skills/2013/06/26/explaining-languages-through-storytelling" title="next Post:
Explaining Languages through Storytelling">Explaining Languages through Storytelling &raquo; </a>
        
        </div>
        <div class="clear">&nbsp;</div>
</div> 
  


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'technicalmusingsofamummy'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




</section>


      </section>

      <footer>
      <p><small>Hosted on <a href="http://pages.github.com/">GitHub Pages</a> using the <a href="https://github.com/sodabrew/theme-dinky">Dinky theme</a> for <a href="http://jekyllbootstrap.com/">Jekyll Bootstrap</a></small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
  </body>
</html>

