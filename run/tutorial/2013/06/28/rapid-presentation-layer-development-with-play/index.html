
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="author" content="Heather Campbell" />
    <meta name="description" content="Using templates in Scala Play applications">

    <title>Rapid Presentation Layer Development with Play</title>

    <link rel="stylesheet" href="/assets/themes/dinky/css/styles.css">
    <link rel="stylesheet" href="/assets/themes/dinky/css/pygment_trac.css">
    <script src="/assets/themes/dinky/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header"><a href="/">Technical Musings of a Mummy</a></h1>
        <ul>
          
          
          


  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/categories.html">Categories</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/pages/about/index.html">Me</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/pages.html">Pages</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  



        </ul>
        
        
        <div class="misc vcard">
          <h5 class="connect">Connect with Me</h5>
            

            <a href="mailto:heatherjcampbell@hotmail.co.uk"><img src="/assets/themes/dinky/images/email.png" alt="email"/></a>
            
            
            <a href="http://github.com/heatherjc07/" rel="me"><img src="/assets/themes/dinky/images/github.png" alt="github"/></a>
            
            
            <a href="http://twitter.com/HCampbell07/" rel="me"><img src="/assets/themes/dinky/images/twitter.png" alt="twitter"/></a>
            
            
            
            
            
        </div><!-- misc -->
        
      </header>

      <section>
      
<section>
  <h1>Rapid Presentation Layer Development with Play</h1>

  <p>One of the really nice features of Play is its <a href='http://www.playframework.com/documentation/2.1.1/ScalaTemplates'>template engine</a>. It&#8217;s something I made use of heavily in my latest piece of work developing a proof of concept for a customer. The template engine allows you to create reusable blocks of layout which you can use across multiple pages in your site. It&#8217;s really easy to get started with templates as they don&#8217;t require you to learn a new language. Mine consisted of Scala and HTML.</p>

<p>Examples of things I ended up using templates for included:</p>

<ul>
<li>The main page layout</li>

<li>Headers</li>

<li>Footers</li>

<li>Navigation menu</li>

<li>Form elements</li>

<li>Table</li>
</ul>

<p>Lets take a look at a couple of simple examples.</p>

<h2 id='the_main_page_layout'>The main page layout</h2>

<p>Lets look at a very basic example of using a template for our common page structure. In the example below I&#8217;ve created a template to represent the basic structure of my site. In reality this would probably include more HTML. It accepts three parameters, a title, script (any additional JavaScript, CSS the page requires) and content (content for the body of the page).</p>
<script src='https://gist.github.com/5887732.js?file=main.scala.html'> </script><noscript>
  <pre class='gist-no-script'><code># main.scala.html

@(title: String)(script: Html)(content: Html)
&lt;!DOCTYPE html&gt;

&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;@title&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; media=&quot;screen&quot; href=&quot;@routes.Assets.at(&quot;stylesheets/application.css&quot;)&quot;&gt;
    &lt;script src=&quot;@routes.Assets.at(&quot;javascripts/jquery-1.9.0.min.js&quot;)&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
    @script
  &lt;/head&gt;
  &lt;body&gt;
    @content
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
</noscript>
<p>I can then use the main template to create different views in my application. The first example is a common error page. The title is an input parameter, I&#8217;m not including any additional script and my contents are an html paragraph with the error message.</p>
<script src='https://gist.github.com/5887732.js?file=error.scala.html'> </script><noscript>
  <pre class='gist-no-script'><code># error.scala.html

@(title: String, error: String)
&lt;!DOCTYPE html&gt;
@main(title){&amp;nbsp;}{
&lt;p&gt;
  @error
&lt;/p&gt;
}</code></pre>
</noscript>
<p>When you create a template it is compiled as a Scala function with the following naming convention:</p>

<p>A template called views/error.scala.html would generate a function called views.html.error. I could call the error template from my controller using the following syntax</p>

<pre><code>views.html.error(&quot;My title&quot;,&quot;My error&quot;)</code></pre>

<p>The second example is a message page with additional JavaScript include and html.</p>
<script src='https://gist.github.com/5887732.js?file=message.scala.html'> </script><noscript>
  <pre class='gist-no-script'><code># message.scala.html

@(title: String, msg: String)
@main(title){&lt;script src=&quot;@routes.Assets.at(&quot;javascripts/message.js&quot;)&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;}{
&lt;div class=&quot;group&quot;&gt;
    &lt;article role=&quot;article&quot; class=&quot;group&quot;&gt;
        &lt;section class=&quot;content-group&quot;&gt;
            &lt;div class=&quot;group&quot;&gt;
                &lt;p&gt;@msg&lt;/p&gt;
            &lt;/div&gt;
        &lt;/section&gt;
    &lt;/article&gt;
&lt;/div&gt;
}</code></pre>
</noscript>
<h2 id='a_common_page_element'>A common page element</h2>

<p>Templates can also be used for common page elements. For example in each of my pages with a form I might want to display an error summary if the information entered was incorrect. I would probably want this to take a standard format so it would be a good candidate for creating a template. The template accepts a sequence of form errors and for each error creates a list item displaying the message and a link to the relevant form element.</p>
<script src='https://gist.github.com/5887732.js?file=errorSummary.scala.html'> </script><noscript>
  <pre class='gist-no-script'><code># errorSummary.scala.html

@(errors: Seq[FormError])
&lt;div class=&quot;validation-summary&quot;&gt;
    &lt;h1&gt;There was a problem submitting the form&lt;/h1&gt;
    &lt;p&gt;Please try the following:&lt;/p&gt;
    &lt;ol&gt;
        @errors.map { err =&gt;
        &lt;li&gt;&lt;a href=&quot;#@err.key&quot;&gt;@Messages(err.message)&lt;/a&gt;&lt;/li&gt;
        }
    &lt;/ol&gt;
&lt;/div&gt;

</code></pre>
</noscript>
<h2 id='a_common_form_element'>A common form element</h2>

<p>Play provides <a href='http://www.playframework.com/documentation/2.1.1/ScalaFormHelpers'>form template helpers</a> to assist in the development of forms. Taking a look at the source for these can help you understand how to create your own like the inputDatePicker field template below.</p>
<script src='https://gist.github.com/5887732.js?file=inputDatePicker.scala.html'> </script><noscript>
  <pre class='gist-no-script'><code># inputDatePicker.scala.html

@(field: play.api.data.Field, args: (Symbol,Any)*)

@import play.api.i18n._

@argsMap = @{ args.toMap }
@htmlArgs = @{ args.filter(!_._1.name.startsWith(&quot;_&quot;)).toMap }
@classes = @{ argsMap.getOrElse('_classes, &quot;&quot;).asInstanceOf[String] }

&lt;p class=&quot;group @if(field.hasErrors) {validation}&quot;&gt;
    &lt;span class=&quot;validation-message&quot;&gt;@field.errors.map(e =&gt; Messages(e.message)).mkString(&quot;, &quot;)&lt;/span&gt;
    &lt;label for=&quot;@field.id&quot;&gt;@argsMap.getOrElse('_label, field.name)
        @if(argsMap.getOrElse('_mandatory, false).asInstanceOf[Boolean]) {
        &lt;abbr title=&quot;Mandatory&quot;&gt;*&lt;/abbr&gt;
        }
    &lt;/label&gt;
    &lt;input id=&quot;@field.id&quot; name=&quot;@field.name&quot; class=&quot;input-date&quot;type=&quot;text&quot; value=&quot;@field.value&quot; @toHtmlArgs(htmlArgs)&gt;
&lt;/p&gt;</code></pre>
</noscript>
<p>I would use this in a form within a template.</p>

<pre><code>@inputDatePicker(
   field = form(&quot;dateOfBirth&quot;),
   args = &#39;_label -&gt; &quot;Date&quot;, 
 &#39;_mandatory -&gt; true
   )</code></pre>

<h2 id='why_do_it'>Why do it?</h2>

<p>Taking the time at the start of development to identify the repeating elements in the presentation layer of your site and modelling them as templates can:</p>

<ol>
<li>Improve your speed of development</li>

<li>Help create a consistent look and feel for your site</li>

<li>Reduce the overhead to modify the structure of the pages in your site</li>

<li>Reduce the overhead of adding to your site</li>
</ol>

<p>I hope this post gave you a few ideas for how you can use them in your next application.</p>

  


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'technicalmusingsofamummy'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




</section>


      </section>

      <footer>
      <p><small>Hosted on <a href="http://pages.github.com/">GitHub Pages</a> using the <a href="https://github.com/sodabrew/theme-dinky">Dinky theme</a> for <a href="http://jekyllbootstrap.com/">Jekyll Bootstrap</a></small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
  </body>
</html>

